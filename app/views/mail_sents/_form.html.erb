<%= debug params %>

<%= form_with(model: mail, url: new_message_mail_sent_path, method: :post) do |form| %>
    
    <% if mail.errors.any? %>
        <div style="color: red">
          <h2><%= pluralize(mail.errors.count, "error") %> prohibited this mail from being saved:</h2>
          <ul>
            <% mail.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="form-group row mt-4">
        <%= form.label :recipient, "To", class: "col-2 col-form-label text-dark" %>
        <div class="col-10">
          <%= form.text_field :recipient, class: "form-control shadow rounded" %>
        </div>
    </div>

    <div class="form-group row mt-4">
        <%= form.label :title, class: "col-2 col-form-label text-dark" %>
        <div class="col-10">
          <%= form.text_field :title, value: @message.title, class: "form-control shadow rounded" %>
        </div>
    </div>
    
    <div class="form-group row mt-4">
        <%= form.label :content, class: "col-2 col-form-label text-dark" %>
        <div class="col-10">
          <%= form.text_area :content, rows: 10, value: @message.content , class: "form-control shadow rounded" %>
        </div>
    </div>
    
    <div>
        <%= form.submit class: "btn btn-outline-dark btn-lg mt-3" %>
    </div>

<% end %>
